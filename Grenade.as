package src.shooter {	import flash.display.MovieClip;	import flash.events.*	import flash.filters.BlurFilter;	import src.core.Game;	public class Grenade extends Projectile{		var mainShape:MovieClip = new MovieClip;		var _shadow:MovieClip = new MovieClip;		public function Grenade(_shooter, _angle){			super(_shooter, _angle, speed, damage);			ShooterGame.magicList.push(this);			//Props			shooter = _shooter;			speed = 8;			damage = 0;			friendly = shooter.friendly;						hp = 5;			isVunerable = true;			isPermeable = false;			ignoreObstacles = true;						mainShape.graphics.beginFill(0xFF0000, 0);			mainShape.graphics.drawRect(-3,-3,6,6);			mainShape.graphics.endFill();			addChild(mainShape);						_shadow.graphics.beginFill(0x000000, 0.25);			_shadow.graphics.drawCircle(0,0, 6);			_shadow.graphics.endFill();			addChildAt(_shadow, 0);			var blur:BlurFilter = new BlurFilter(10,10,1);			var filtersArray = [blur];			_shadow.filters = filtersArray;									////Glow effect//			var glow:GlowFilter = new GlowFilter(0xFF5A3C, 0.5, 15, 15, 5);//			var filtersArray = [glow];////			var glower:MovieClip = new MovieClip();//			glower.graphics.beginFill(0xFF5A3C, 0.5);//			glower.graphics.drawCircle(0,0,5);//			glower.graphics.endFill();//			glower.filters = filtersArray;//			addChildAt(glower, 0);////			var glow2:GlowFilter = new GlowFilter(0xffff00, 0.4, 40,40,15,2);//			var filtersArray2 = [glow2];////			var glower2:MovieClip = new MovieClip();//			glower2.graphics.beginFill(0xffff00, 0.4);//			glower2.graphics.drawCircle(0,0,5);//			glower2.graphics.endFill();//			glower2.filters = filtersArray2;//			addChildAt(glower2, 0);		}		override public function move(){						//trace(life);						super.move();						//speed x radians			y += speed * Math.sin((angle - 90) * (Math.PI / 180));			x += speed * Math.cos((angle - 90) * (Math.PI / 180));						if ( counter >= 72 ){				kill();				//trace(life);				//speed = 0;			}			if ( counter < 18 ){				scaleX = scaleY += 0.1;				_shadow.alpha -= 0.01;			}			if ( counter > 18 && counter <= 36) {				scaleX = scaleY -= 0.1;				_shadow.alpha += 0.01;			}			if ( counter > 36 ){				speed = 0;			}					}				override public function kill(){						//Add Explode			var explosion:Explosion = new Explosion(4, "both");			explosion.x = x;			explosion.y = y;			Game.currentLevel.topLayer.addChild(explosion);			super.kill();					}		override public function remove(){			//Remove from Array			for(var i=0; i < ShooterGame.magicList.length; i++)			{				if( ShooterGame.magicList[i]==this) { ShooterGame.magicList.splice(i,1) };			}						super.remove();							}			}}